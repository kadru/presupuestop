<%# locals: (expenses:, expense:, categories:, subcategories:) %>

<div class="scrollable-table">
  <table class="pure-table pure-table-horizontal pure-table-striped compact-table scrollable">
    <thead>
      <tr>
        <th><%= t(".name") %></th>
        <th><%= t(".amount") %></th>
        <th><%= t(".category") %></th>
        <th><%= t(".subcategory") %></th>
        <th><%= t(".actions") %></th>
      </tr>
    </thead>
    <tbody id="expenses_tbody" is="turbo-frame">
      <%= render expenses %>
    </tbody>
  </table>
</div>

<br>

<%= button_tag t(".new_expense"),
               type: "button",
               class: "pure-button pure-button-primary",
               popovertarget: "popoverNew" %>

<div id="popoverNew"
     class="popover-container"
     popover
     data-controller="popover-form">
  <%= turbo_frame_tag expense do %>
  <%= render "form",
             expense: expense,
             categories: categories,
             subcategories: subcategories %>
   <% end %>
</div>
