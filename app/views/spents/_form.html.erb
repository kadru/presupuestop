<%= form_with(model: spent) do |form| %>
  <% if spent.errors.any? %>
    <div class="warning">
      <h4>
        <%= t("activerecord.errors.messages.record_invalid", errors: spent.errors.full_messages.to_sentence)%>
      </h4>
    </div>
  <% end %>

  <div>
   <%= form.label :name %>
   <%= form.text_field :name %>

   <%= form.label :amount_unit %>
   <%= form.number_field :amount_unit, step: "0.01" %>

   <%= form.label :category_id %>
   <%= form.select :category_id,
                   categories,
                   {
                     include_blank: true
                   },
                   data: {
                    controller: "cat-select",
                    action: "cat-select#loadSubcategories",
                    cat_select_target_value: "spent_subcategory_id"
                  } %>

   <%= form.label :subcategory_id %>
   <%= form.select :subcategory_id,
                   subcategories %>
   <%= form.submit %>
  </div>
<% end %>
